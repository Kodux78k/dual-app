<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Seguran√ßa & Per√≠cia | Eng. Seguran√ßa do Trabalho</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      margin:0; padding:0;
      font-family: 'Arial', sans-serif;
      background: #f5f7fa;
      color: #333;
    }
    header, footer {
      background: #004d40;
      color: #fff;
      text-align: center;
      padding: 16px;
    }
    main {
      padding: 24px;
      max-width: 900px;
      margin: auto;
    }
    section {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 24px;
    }
    h2 {
      margin-top: 0;
      color: #004d40;
    }
    label { display:block; margin:12px 0 4px; font-weight: bold; }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 6px;
      border:1px solid #ccc;
      font-size: 14px;
    }
    button {
      background: #00796b;
      color: #fff;
      border:none;
      cursor: pointer;
    }
    button:hover {
      background: #004d40;
    }
    table {
      width:100%;
      border-collapse: collapse;
      margin-top: 12px;
    }
    th, td {
      border:1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    .flex { display: flex; gap: 12px; flex-wrap: wrap; }
    .flex > * { flex:1; min-width: 200px; }
    .hidden { display:none; }
  </style>
</head>
<body>

<header>
  <h1>Eng. Seguran√ßa & Per√≠cia em Obras</h1>
  <p>Per√≠cia t√©cnica ¬∑ Cota√ß√£o de EPIs ¬∑ Treinamentos ¬∑ NR Compliance</p>
</header>

<main>

  <!-- 1. DADOS B√ÅSICOS & AGENDAMENTO -->
  <section id="sec-pericia">
    <h2>1. Agendar Per√≠cia / Inspe√ß√£o</h2>
    <div class="flex">
      <div>
        <label for="nome">Nome Completo</label>
        <input id="nome" type="text" placeholder="Seu nome"/>
      </div>
      <div>
        <label for="empresa">Empresa / Obra</label>
        <input id="empresa" type="text" placeholder="Nome da obra ou empresa"/>
      </div>
    </div>
    <label for="data">Data da Inspe√ß√£o</label>
    <input id="data" type="date"/>
    <label for="docs">Anexar Fotos / Documentos</label>
    <input id="docs" type="file" multiple accept="image/*,application/pdf"/>
    <button onclick="submitPericia()">Enviar Agendamento</button>
  </section>

  <!-- 2. COTA√á√ÉO DE EPIs & SERVI√áOS -->
  <section id="sec-cotacao">
    <h2>2. Cota√ß√£o de EPIs & Servi√ßos</h2>
    <table id="table-cotacao">
      <thead>
        <tr>
          <th>Item / EPI</th>
          <th>Quantidade</th>
          <th>Pre√ßo Unit.</th>
          <th> A√ß√£o </th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button onclick="addRow()">+ Adicionar Item</button>
    <button onclick="sendCotacao()">Enviar Cota√ß√£o</button>
  </section>

  <!-- 3. TREINAMENTOS & CHECKLIST NR -->
  <section id="sec-treinamentos">
    <h2>3. Inscri√ß√£o em Treinamentos & NR-Checklists</h2>
    <label for="treinamento">Selecione o Treinamento</label>
    <select id="treinamento">
      <option value="nr6">NR-6: EPI</option>
      <option value="nr18">NR-18: Condi√ß√µes de Obra</option>
      <option value="nr10">NR-10: Seguran√ßa em Eletricidade</option>
      <option value="custom">Outro</option>
    </select>
    <textarea id="obs-trein" rows="3" placeholder="Observa√ß√µes ou outra NR‚Ä¶"></textarea>
    <h3>Checklist de Conformidade</h3>
    <div id="checklist">
      <label><input type="checkbox" value="epi"> Fornecimento de EPIs</label>
      <label><input type="checkbox" value="sinal"> Placas e Sinaliza√ß√µes</label>
      <label><input type="checkbox" value="andaime"> Andaimes e Escoramentos</label>
      <label><input type="checkbox" value="eletrica"> Instala√ß√µes El√©tricas Seguras</label>
    </div>
    <button onclick="sendTrein()">Confirmar Inscri√ß√£o & Checklist</button>
  </section>

  <!-- 4. COMUNICA√á√ÉO R√ÅPIDA -->
  <section id="sec-comunicacao">
    <h2>4. Contato Imediato</h2>
    <button onclick="openEmail()">‚úâÔ∏è Enviar e-mail</button>
    <button onclick="openWhats()">üí¨ WhatsApp</button>
  </section>

</main>

<footer>
  <p>¬© 2025 ‚Äì Eng. Seguran√ßa do Trabalho & Per√≠cias</p>
</footer>

<script>
  // --- Se√ß√£o 1: Agendamento ---
  function submitPericia(){
    const nome = document.getElementById('nome').value;
    const obra = document.getElementById('empresa').value;
    const data = document.getElementById('data').value;
    // O upload de arquivos geralmente vai para um endpoint; aqui abrimos o WhatsApp como exemplo:
    const msg = `Agendamento de per√≠cia:\nNome: ${nome}\nObra: ${obra}\nData: ${data}`;
    window.open(`https://wa.me/55SEUDDDSEUNUMERO?text=${encodeURIComponent(msg)}`, '_blank');
  }

  // --- Se√ß√£o 2: Cota√ß√£o Din√¢mica ---
  function addRow(){
    const tbody = document.querySelector('#table-cotacao tbody');
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td><input type="text" placeholder="Ex: Luva, Capacete"/></td>
      <td><input type="number" value="1" min="1"/></td>
      <td><input type="number" step="0.01" placeholder="Pre√ßo unit."/></td>
      <td><button onclick="this.closest('tr').remove()">‚úñÔ∏è</button></td>`;
    tbody.appendChild(tr);
  }
  function sendCotacao(){
    const rows = [...document.querySelectorAll('#table-cotacao tbody tr')];
    if(rows.length===0){ alert('Adicione pelo menos um item.'); return; }
    let lista = '';
    rows.forEach(r=>{
      const cols = r.querySelectorAll('input');
      lista += `‚Ä¢ ${cols[0].value} ‚Äì Qt:${cols[1].value} ‚Äì R$${cols[2].value}\n`;
    });
    const subject = encodeURIComponent('Cota√ß√£o EPIs & Servi√ßos');
    const body = encodeURIComponent(`Ol√°,\n\nSegue minha solicita√ß√£o de cota√ß√£o:\n${lista}`);
    window.location.href = `mailto:cotacao@empresa.com?subject=${subject}&body=${body}`;
  }

  // --- Se√ß√£o 3: Treinamento & Checklist ---
  function sendTrein(){
    const trein = document.getElementById('treinamento').value;
    const obs = document.getElementById('obs-trein').value;
    const checks = [...document.querySelectorAll('#checklist input:checked')].map(i=>i.value).join(', ');
    const body = encodeURIComponent(
      `Inscri√ß√£o Treinamento: ${trein}\nObserva√ß√µes: ${obs}\nChecklist OK: ${checks}`
    );
    window.open(`mailto:treinamentos@empresa.com?subject=Inscri√ß√£o%20Treinamento&body=${body}`, '_blank');
  }

  // --- Se√ß√£o 4: Comunica√ß√£o ---
  function openEmail(){
    window.location.href = 'mailto:contato@empresa.com?subject=Contato%20R√°pido';
  }
  function openWhats(){
    window.open('https://wa.me/55SEUDDDSEUNUMERO', '_blank');
  }
</script>