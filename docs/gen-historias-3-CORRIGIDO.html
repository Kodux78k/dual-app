<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üåå Gerador de Hist√≥rias Qu√¢nticas - KODUX/KOBLLUX</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r148/three.min.js"></script>
  <style>
    :root {
      --quantum-purple: #6a0dad;
      --neon-blue: #00f5ff;
      --pink-energy: #ff00ff;
      --bg-dark: #0a0a23;
    }
    body {
      margin: 0;
      padding: 33px;
      background: var(--bg-dark);
      color: white;
      font-family: 'Montserrat', 'Segoe UI', sans-serif;
    }
    h1, h2 {
      text-align: center;
      text-shadow: 0 0 10px var(--neon-blue);
      margin-bottom: 20px;
    }
    .section {
      background: rgba(20, 20, 40, 0.9);
      border: 1px solid var(--quantum-purple);
      border-radius: 12px;
      padding: 25px;
      margin: 20px auto;
      box-shadow: 0 0 20px rgba(106, 13, 173, 0.5);
      max-width: 800px;
    }
    select, input[type="range"], textarea, input[type="text"] {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: none;
      margin-top: 5px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      font-size: 1rem;
    }
    button {
      background: linear-gradient(135deg, var(--quantum-purple), var(--pink-energy));
      color: white;
      font-weight: bold;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      padding: 12px 20px;
      margin-top: 10px;
      box-shadow: 0 0 12px var(--pink-energy);
      transition: all 0.3s ease;
      cursor: pointer;
      width: 100%;
    }
    button:hover {
      transform: scale(1.03);
      box-shadow: 0 0 20px var(--pink-energy);
      background: linear-gradient(135deg, var(--pink-energy), #ff66ff);
    }
    textarea { resize: none; margin-top: 15px; height: 160px; }
    canvas { display: block; margin: 20px auto; border-radius: 10px; }
    .story-entry { margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.05); border-left: 3px solid var(--quantum-purple); }
    .story-entry:hover { background: rgba(255,255,255,0.1); cursor: pointer; }
    #three-container { width: 100%; height: 300px; border-radius: 10px; border: 1px solid var(--neon-blue); margin-top: 15px; }
  </style>
</head>
<body>
  <h1>üåå Gerador de Hist√≥rias Qu√¢nticas</h1>

  <div class="section">
    <h2>‚öôÔ∏è Configura√ß√µes</h2>
    <label for="title">T√≠tulo:</label>
    <input type="text" id="title" placeholder="Ex: A Jornada Qu√¢ntica de Lux" />
    <label for="archetype">Arqu√©tipo:</label>
    <select id="archetype">
      <option value="U+000A">Salto Qu√¢ntico</option>
      <option value="U+2665">Cora√ß√£o Qu√¢ntico</option>
      <option value="U+2605">Estrela da Sincronicidade</option>
      <option value="U+231B">Loop Temporal</option>
    </select>
    <label for="intention">Inten√ß√£o:</label>
    <select id="intention">
      <option value="alegria">Alegria</option>
      <option value="amor">Amor</option>
      <option value="mist√©rio">Mist√©rio</option>
      <option value="transforma√ß√£o">Transforma√ß√£o</option>
    </select>
    <label>Complexidade: <span id="levelDisplay">5</span></label>
    <input type="range" id="complexity" min="1" max="10" value="5" oninput="levelDisplay.textContent = this.value">
    <label><input type="checkbox" value="paradoxo"> Paradoxo</label>
    <label><input type="checkbox" value="espelho"> Espelho</label>
    <label><input type="checkbox" value="vazio"> Vazio</label>
    <label><input type="checkbox" value="simbiose"> Simbiose</label>
    <button onclick="generateStory()">‚ú® Gerar Hist√≥ria</button>
  </div>

  <div class="section">
    <h2>üìú Hist√≥ria</h2>
    <textarea id="output" readonly></textarea>
    <button onclick="copyStory()">üìã Copiar</button>
    <button onclick="speakStory()">üîä Narrar</button>
    <button onclick="saveToDB()">üíæ Salvar na Biblioteca</button>
  </div>

  <div class="section">
    <h2>üß† Biblioteca de Hist√≥rias</h2>
    <div id="history-list">Carregando hist√≥rias salvas...</div>
  </div>

  <div class="section">
    <h2>üåÄ Visualiza√ß√£o Hologr√°fica</h2>
    <div id="three-container"></div>
  </div>

<script>
  const output = document.getElementById("output");
  const historyList = document.getElementById("history-list");

  const archetypes = {
    'U+000A': ["Salto entre dimens√µes ativado...", "A linha U+000A foi ultrapassada."],
    'U+2665': ["O cora√ß√£o qu√¢ntico come√ßou a pulsar...", "Amor irradiava do n√∫cleo c√≥smico."],
    'U+2605': ["Estrelas se alinharam como nunca...", "A sincronia era inevit√°vel."],
    'U+231B': ["O tempo se retorceu novamente...", "Ciclos temporais colapsaram."]
  };
  const intentions = {
    'alegria': "Uma onda de alegria atravessou tudo.",
    'amor': "O amor conectou todas as formas de vida.",
    'mist√©rio': "Mist√©rios surgiram do vazio absoluto.",
    'transforma√ß√£o': "A transforma√ß√£o era irrevers√≠vel."
  };
  const elements = {
    paradoxo: "Realidade paradoxal detectada.",
    espelho: "Reflexos do outro lado surgiram.",
    vazio: "Do vazio emergiu informa√ß√£o pura.",
    simbiose: "Uma nova simbiose foi formada."
  };

  function generateStory() {
    const arch = document.getElementById("archetype").value;
    const intent = document.getElementById("intention").value;
    const level = document.getElementById("complexity").value;
    const checks = document.querySelectorAll('input[type="checkbox"]:checked');
    let story = `${archetypes[arch][Math.floor(Math.random()*2)]}\n`;
    story += `${intentions[intent]}\n`;
    story += `Complexidade: ${level}/10\n`;
    checks.forEach(c => { story += elements[c.value] + "\\n"; });
    output.value = story;
  }

  function copyStory() {
    output.select();
    document.execCommand("copy");
    alert("Hist√≥ria copiada!");
  }

  function speakStory() {
    const speech = new SpeechSynthesisUtterance(output.value);
    speech.lang = "pt-BR";
    window.speechSynthesis.speak(speech);
  }

  function saveToDB() {
    const title = document.getElementById("title").value || "Sem T√≠tulo";
    const content = output.value;
    if (!content) return alert("Gere uma hist√≥ria antes de salvar.");
    const stories = JSON.parse(localStorage.getItem("kblx_histories") || "[]");
    stories.push({ title, content, date: new Date().toLocaleString() });
    localStorage.setItem("kblx_histories", JSON.stringify(stories));
    loadHistory();
  }

  function loadHistory() {
    const stories = JSON.parse(localStorage.getItem("kblx_histories") || "[]");
    if (stories.length === 0) return historyList.innerHTML = "<em>Nenhuma hist√≥ria salva.</em>";
    historyList.innerHTML = "";
    stories.reverse().forEach((s, i) => {
      const el = document.createElement("div");
      el.className = "story-entry";
      el.innerHTML = `<strong>${s.title}</strong><br><small>${s.date}</small>`;
      el.onclick = () => { output.value = s.content; };
      historyList.appendChild(el);
    });
  }

  loadHistory();
</script>
<script>
  // THREE.js - anima√ß√£o hologr√°fica
  const container = document.getElementById("three-container");
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, container.clientWidth/container.clientHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ alpha: true });
  renderer.setSize(container.clientWidth, container.clientHeight);
  container.appendChild(renderer.domElement);

  const geometry = new THREE.TorusKnotGeometry(5, 1.2, 100, 16);
  const material = new THREE.MeshStandardMaterial({ color: 0xff00ff, metalness: 0.7, roughness: 0.2 });
  const knot = new THREE.Mesh(geometry, material);
  scene.add(knot);

  const light = new THREE.PointLight(0x00f5ff, 2, 100);
  light.position.set(10, 10, 10);
  scene.add(light);

  camera.position.z = 20;

  function animate() {
    requestAnimationFrame(animate);
    knot.rotation.x += 0.01;
    knot.rotation.y += 0.01;
    renderer.render(scene, camera);
  }
  animate();
</script>


<script>
  const wrapper = document.querySelector('.carousel-wrapper');

  let scrollTimeout;
  wrapper.addEventListener('scroll', () => {
    clearTimeout(scrollTimeout);
    scrollTimeout = setTimeout(() => {
      const blocks = wrapper.querySelectorAll('.block');
      const centerX = wrapper.scrollLeft + wrapper.clientWidth / 2;

      let closestBlock = null;
      let closestDistance = Infinity;

      blocks.forEach(block => {
        const blockCenter = block.offsetLeft + block.offsetWidth / 2;
        const distance = Math.abs(blockCenter - centerX);
        if (distance < closestDistance) {
          closestDistance = distance;
          closestBlock = block;
        }
      });

      if (closestBlock) {
        closestBlock.scrollIntoView({ behavior: 'smooth', inline: 'center' });
      }
    }, 150);
  });

  window.addEventListener("load", () => {
    const firstBlock = document.querySelector(".block");
    if (firstBlock) {
      firstBlock.scrollIntoView({ behavior: "auto", inline: "center" });
    }
  });
</script>

</body>
</html>